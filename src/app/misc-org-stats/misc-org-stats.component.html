<nav class="navbar navbar-expand-lg navbar-light bg-light p-3 mb-3 rounded" aria-label="breadcrumb">
  <ol class="breadcrumb m-0">
    <li class="breadcrumb-item"><a class="text-decoration-none" routerLink="/identity-info">Home</a></li>
    <li class="breadcrumb-item">Misc</li>
    <li class="breadcrumb-item active" aria-current="page">Org Statistics</li>
  </ol>
</nav>
<div class="form-group row" *ngIf="loading">
  <div class="col-sm-12 text-end">
    <span class="spinner-border spinner-border-sm me-1"></span>Loading...
  </div>
</div>
<div class="col-sm-12 text-end">
  <button type="button" [disabled]="loading" (click)="ngOnInit()" class="btn btn-primary btn-sm">
    Refresh
  </button>
</div>
<br>
<table class="table table-striped table-bordered" *ngIf="!loading">
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Org Details</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Name</td>
      <td>{{ orgData.orgName }}</td>
    </tr>
    <tr>
      <td>Region</td>
      <td>{{ orgData.orgRegion }}</td>
    </tr>
    <tr>
      <td>Pod</td>
      <td>{{ orgData.orgPod }}</td>
    </tr>
    <tr>
      <td>Layer</td>
      <td>{{ orgData.orgLayer }}</td>
    </tr>
    <tr>
      <td>Org Timezone</td>
      <td>{{ orgData.currentTimeZone }}</td>
    </tr>
  </tbody>
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Identity Statistics</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Total Identities</td>
      <td>{{ orgData.identityCount }}</td>
    </tr>
    <tr>
      <td>Total Accounts</td>
      <td>{{ orgData.accountCount }}</td>
    </tr>
    <tr>
      <td>Total Identity Profiles</td>
      <td>{{ orgData.identityProfileCount }}</td>
    </tr>
    <tr>
      <td>Total Sources</td>
      <td>{{ orgData.sourceCount }}</td>
    </tr>
    <tr>
      <td>Total Roles</td>
      <td>{{ orgData.roleCount }}</td>
    </tr>
    <tr>
      <td>Total Access Profiles</td>
      <td>{{ orgData.accessProfileCount }}</td>
    </tr>
    <tr>
      <td>Total Entitlements</td>
      <td>{{ orgData.entitlementCount }}</td>
    </tr>
  </tbody>
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Campaign Statistics</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Total Campaigns</td>
      <td>{{ orgData.totalCampaignCount }}</td>
    </tr>
    <tr>
      <td>Active Campaigns</td>
      <td>{{ orgData.activeCampaignCount }}</td>
    </tr>
    <tr>
      <td>Completed Campaigns</td>
      <td>{{ orgData.completedCampaignCount }}</td>
    </tr>
  </tbody>
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Approval Summary</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Total Approved</td>
      <td>{{ orgData.approvalSummaryTotalApproved }}</td>
    </tr>
    <tr>
      <td>Total Pending</td>
      <td>{{ orgData.approvalSummaryTotalPending }}</td>
    </tr>
    <tr>
      <td>Total Rejected</td>
      <td>{{ orgData.approvalSummaryTotalRejected }}</td>
    </tr>
  </tbody>
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Work Items</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Total</td>
      <td>{{ orgData.workItemsTotal }}</td>
    </tr>
    <tr>
      <td>Total Open</td>
      <td>{{ orgData.workItemsTotalOpen }}</td>
    </tr>
    <tr>
      <td>Total Completed</td>
      <td>{{ orgData.workItemsTotalCompleted }}</td>
    </tr>
  </tbody>
  <thead class="table-secondary align-middle">
    <tr>
      <th scope="col" colspan="2">Activities (Last 7 Days)</th>
    </tr>
  </thead>
  <tbody *ngIf="orgData">
    <tr>
      <td>Password Changes</td>
      <td>{{ orgData.passwordChangeCount }}</td>
    </tr>
    <tr>
      <td>Provisioning Activities</td>
      <td>{{ orgData.provisioningActivityCount }}</td>
    </tr>
  </tbody>
</table>
